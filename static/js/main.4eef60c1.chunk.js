(window["webpackJsonptoken-creator"]=window["webpackJsonptoken-creator"]||[]).push([[0],{1009:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(11),o=r.n(s),l=(r(374),r(4)),i=r.n(l),c=r(97),u=r(229),d=r(352),p=r(170),m=r(1016),y=r(1020),g=r(1015),f=r(1014),b=r(1017),v=r(1019),h=r(29),E=r(1011),k=r(1018),w=r(172),O=r(1012),R=r(1013),x=r(353),I=r(354);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=m.a.Option,j=y.a.Content,C=y.a.Header,N=g.a.Item,D=f.a.Text,P=f.a.Title,M=f.a.Paragraph,F=(b.a.Step,{1:{polymathRegistryAddress:"0xdfabf3e4793cd30affb47ab6fa4cf4eef26bbc27"},42:{polymathRegistryAddress:"0x5b215a7d39ee305ad28da29bf2f0425c6c2a00b3"},15:{polymathRegistryAddress:"0x9FBDa871d559710256a2502A2517b794B482Db40"}});v.a.config({duration:5,maxCount:1});var B={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};function L(e){var t=e.networkId;t=t.toString();return n.a.createElement(a.Fragment,null,n.a.createElement(h.a,{type:"global",style:{marginRight:10,marginLeft:20}}),n.a.createElement(D,null,{0:"Disconnected",1:"Mainnet",42:"Kovan"}[t]))}function _(e){var t=e.walletAddress;return t?n.a.createElement(a.Fragment,null,n.a.createElement(h.a,{type:"user",style:{marginRight:5,marginLeft:10}}),n.a.createElement(D,null,t)):null}var V=function(){var e=Object(a.useContext)(Y),t=Object(u.a)(e,2),r=t[0],s=t[1],o=r.AppReducer,l=o.sdk,d=o.loading,f=o.loadingMessage,b=o.reservations,h=o.walletAddress,T=o.networkId,A=Object(a.useState)(""),D=Object(u.a)(A,2),V=D[0],G=D[1],W=Object(x.a)(),K=W.getFieldDecorator,U=W.resetFields,q=W.validateFields;function z(){return(z=Object(c.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=20;break}return s({type:"RESERVING_SYMBOL"}),e.prev=2,e.next=5,l.reserveSecurityToken({symbol:V});case 5:return t=e.sent,e.next=8,t.run();case 8:r=e.sent,console.log("ret",r),s({type:"RESERVED_SYMBOL"}),v.a.success("Symbol ".concat(V," has been reserved successfully!")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),s({type:"ERROR",error:e.t0.message}),v.a.error(e.t0.message);case 18:e.next=21;break;case 20:v.a.error("Please provide a symbol");case 21:case"end":return e.stop()}}),e,this,[[2,14]])})))).apply(this,arguments)}function H(){return(H=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),q(["symbol","name","detailsUrl","treasuryWallet","divisible"],{force:!0}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"CREATING_TOKEN"}),console.log("Submitted values",t),r=b.filter((function(e){return e.symbol===t.symbol}))[0],console.log(r),e.prev=4,e.next=7,r.createSecurityToken(t);case 7:return a=e.sent,e.next=10,a.run();case 10:n=e.sent,console.log(n),s({type:"CREATED_TOKEN"}),v.a.success("Token ".concat(r.symbol," has been created successfully!")),U(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),s({type:"ERROR",error:e.t0.message});case 20:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t,r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"INITALIZING"}),e.prev=1,e.next=4,p.browserUtils.getNetworkId();case 4:return t=e.sent,e.next=7,p.browserUtils.getCurrentAddress();case 7:if(r=e.sent,[-1,1,42].includes(t)){e.next=11;break}return s({type:"ERROR",error:"Please switch to either Main or Kovan network"}),e.abrupt("return");case 11:return a=F[t],n=new p.Polymath,e.next=15,n.connect(a);case 15:s({type:"INITIALIZED",networkId:t,sdk:n,walletAddress:r}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 21:case"end":return e.stop()}}),e,this,[[1,18]])})))).apply(this,arguments)}l||function(){e.apply(this,arguments)}()}),[s,l]),Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"FETCHING_RESERVATIONS"}),e.prev=1,e.next=4,l.getSecurityTokenReservations({owner:h});case 4:return t=e.sent,console.log("All reservations",t),e.next=8,Object(I.filter)(t,function(){var e=Object(c.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isLaunched();case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 8:t=e.sent,console.log("Not launched reservations",t),s({type:"FETCHED_RESERVATIONS",reservations:t}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})))).apply(this,arguments)}l&&h&&void 0===b&&function(){e.apply(this,arguments)}()}),[b,l,h]),n.a.createElement("div",null,n.a.createElement(E.a,{spinning:d,tip:f,size:"large"},n.a.createElement(y.a,null,n.a.createElement(C,{style:{backgroundColor:"white",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}},n.a.createElement(L,{networkId:T}),n.a.createElement(_,{walletAddress:h})),n.a.createElement(j,{style:{padding:50,backgroundColor:"#FAFDFF"}},n.a.createElement(g.a,Object.assign({colon:!1,style:{maxWidth:600}},B),n.a.createElement(P,{level:2,style:{margin:25}},"Reserve Your Token Symbol"),n.a.createElement(M,{style:{margin:25}},"Reservation ensures that no other organization can create a token symbol identical to yours using the Polymath platform. This operation carries a cost of: 250 POLY."),n.a.createElement(N,{name:"symbol",label:"Symbol"},n.a.createElement(k.a,{placeholder:"SYMBOL",value:V,onChange:function(e){var t=e.target.value;RegExp("^[a-zA-Z0-9_-]*$").test(t)&&t.length<=10&&G(t.toUpperCase())}})),n.a.createElement(w.a,{type:"primary",style:{width:"100%"},onClick:function(){return z.apply(this,arguments)}},"Reserve Symbol")),n.a.createElement(O.a,null),b&&n.a.createElement(g.a,Object.assign({colon:!1,style:{maxWidth:600}},B,{onSubmit:function(e){return H.apply(this,arguments)}}),n.a.createElement(P,{level:2,style:{margin:25}},"Create Your Security Token"),n.a.createElement(M,{style:{margin:25}},"Create your security token using one of your previous symbol reservations. If you let your token reservation expire, the token symbol you selected will be available for others to claim."),n.a.createElement(N,{style:{textAlign:"left",marginBottom:25},name:"symbol",label:"Reservation"},K("symbol",{rules:[{required:!0,message:"A token reservation is required"}]})(n.a.createElement(m.a,{placeholder:"Select a reservation"},b.map((function(e){var t=e.symbol;return n.a.createElement(S,{key:t,value:t},t)}))))),n.a.createElement(N,{style:{textAlign:"left",marginBottom:25},name:"name",label:"Token Name",help:"This is the name of your token for display purposes. For example: Toro Token"},K("name",{rules:[{required:!0,message:"Token name is required"},{max:64}]})(n.a.createElement(k.a,{placeholder:"Enter Token Name"}))),n.a.createElement(N,{style:{textAlign:"left",marginBottom:25},name:"detailsUrl",label:"Token Details",help:"Paste a link to a web page that includes additional information on your token, such as legend."},K("detailsUrl",{initialValue:""})(n.a.createElement(k.a,{placeholder:"Paste link here"}))),n.a.createElement(N,{style:{textAlign:"left",marginBottom:25},name:"treasuryWallet",label:"Treasury Wallet Address",help:"Address of a wallet to be used to store tokens for some operations. Defaults to current user (eg Token Issuer) address"},K("treasuryWallet",{initialValue:h,rules:[{max:64},{required:!0}]})(n.a.createElement(k.a,null))),n.a.createElement(N,{style:{textAlign:"left",marginBottom:25},name:"divisible",label:"Divisible",help:"Indivisible tokens are typically used to represent an equity, while divisible tokens may be used to represent divisible assets such as bonds. Please connect with your advisor to select the best option.."},K("divisible",{initialValue:!1,valuePropName:"checked"})(n.a.createElement(R.a,{style:{float:"left"}}))),n.a.createElement(w.a,{type:"primary",style:{width:"100%"},htmlType:"submit"},"Create my token"))))))},G=function(e){return function(t,r){var a,n=Object.keys(e).reduce((function(n,s){return n[s]=e[s](t[s],r),a=a||n[s]!==t[s],n}),{});return a?n:t}}({AppReducer:function(e,t){switch(console.log("ACTION",t),t.type){case"INITALIZING":return A({},e,{loading:!0,loadingMessage:"Initializing Polymath SDK",error:void 0});case"INITIALIZED":return A({},e,{loading:!1,loadingMessage:"",error:void 0,sdk:t.sdk,networkId:t.networkId,walletAddress:t.walletAddress});case"FETCHING_RESERVATIONS":return A({},e,{loading:!0,loadingMessage:"Fetching your previously reserved symbols",error:void 0});case"RESERVING_SYMBOL":return A({},e,{loading:!0,loadingMessage:"Reserving symbol"});case"RESERVED_SYMBOL":return A({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"CREATING_TOKEN":return A({},e,{loading:!0,loadingMessage:"Creating token"});case"CREATED_TOKEN":return A({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"FETCHED_RESERVATIONS":return A({},e,{loading:!1,loadingMessage:"",error:void 0,reservations:t.reservations});case"ERROR":return A({},e,{loading:!1,loadingMessage:"",error:t.error});default:throw new Error("Unrecognized action type: ".concat(t.type))}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.d(t,"Store",(function(){return Y}));var W={AppReducer:{sdk:void 0,loading:!1,loadingMessage:"",error:void 0,networkId:-1,walletAddress:"",reservations:void 0}},Y=Object(a.createContext)();o.a.render(n.a.createElement((function(){var e=Object(a.useReducer)(G,W);return n.a.createElement(Y.Provider,{value:e},n.a.createElement(V,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},369:function(e,t,r){e.exports=r(1009)},374:function(e,t,r){},454:function(e,t){},456:function(e,t){},476:function(e,t){},479:function(e,t){},848:function(e,t){}},[[369,1,2]]]);
//# sourceMappingURL=main.4eef60c1.chunk.js.map