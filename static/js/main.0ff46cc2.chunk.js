(window["webpackJsonptoken-creator"]=window["webpackJsonptoken-creator"]||[]).push([[0],{362:function(e,t,r){e.exports=r(993)},367:function(e,t,r){},447:function(e,t){},449:function(e,t){},469:function(e,t){},472:function(e,t){},841:function(e,t){},993:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(13),o=r.n(s),i=(r(367),r(4)),c=r.n(i),l=r(94),u=r(226),d=r(347),p=r(168),m=r(999),f=r(1001),g=r(998),v=r(1002),b=r(995),y=r(1e3),E=r(170),h=r(996),k=r(997),O=r(348),w=r(349);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=m.a.Option,I=f.a.Content,A=g.a.Item,S={1:{polymathRegistryAddress:"0xdfabf3e4793cd30affb47ab6fa4cf4eef26bbc27"},42:{polymathRegistryAddress:"0x5b215a7d39ee305ad28da29bf2f0425c6c2a00b3"},15:{polymathRegistryAddress:"0x9FBDa871d559710256a2502A2517b794B482Db40"}};v.a.config({duration:5e3,maxCount:1});var j={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var N=function(){var e=Object(n.useContext)(F),t=Object(u.a)(e,2),r=t[0],s=t[1],o=r.AppReducer,i=o.sdk,d=o.loading,R=o.loadingMessage,x=o.reservations,N=o.walletAddress,C=Object(n.useState)(""),D=Object(u.a)(C,2),M=D[0],P=D[1],_=Object(O.a)(),V=_.getFieldDecorator,L=(_.setFieldsValue,_.resetFields),B=_.validateFields;function G(){return(G=Object(l.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=19;break}return s({type:"RESERVING_SYMBOL"}),e.prev=2,e.next=5,i.reserveSecurityToken({symbol:M});case 5:return t=e.sent,e.next=8,t.run();case 8:r=e.sent,console.log("ret",r),s({type:"RESERVED_SYMBOL"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),s({type:"ERROR",error:e.t0.message}),v.a.error(e.t0.message);case 17:e.next=20;break;case 19:v.a.error("Please provide a symbol");case 20:case"end":return e.stop()}}),e,this,[[2,13]])})))).apply(this,arguments)}function U(){return(U=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),B(["symbol","name","detailsUrl","treasuryWallet","divisible"],{force:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"CREATING_TOKEN"}),console.log("Submitted values",t),r=x.filter((function(e){return e.symbol===t.symbol}))[0],console.log(r),e.prev=4,e.next=7,r.createSecurityToken(t);case 7:return n=e.sent,e.next=10,n.run();case 10:a=e.sent,console.log(a),s({type:"CREATED_TOKEN"}),L(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),s({type:"ERROR",error:e.t0.message});case 19:case"end":return e.stop()}}),e,this,[[4,16]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}return _.hasErrors,_.getFieldsError,Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var t,r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"INITALIZING"}),e.prev=1,e.next=4,p.browserUtils.getNetworkId();case 4:return t=e.sent,e.next=7,p.browserUtils.getCurrentAddress();case 7:if(r=e.sent,[-1,1,42].includes(t)){e.next=11;break}return s({type:"ERROR",error:"Please switch to either Main or Kovan network"}),e.abrupt("return");case 11:return n=S[t],a=new p.Polymath,e.next=15,a.connect(n);case 15:s({type:"INITIALIZED",networkId:t,sdk:a,walletAddress:r}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 21:case"end":return e.stop()}}),e,this,[[1,18]])})))).apply(this,arguments)}i||function(){e.apply(this,arguments)}()}),[s,i]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"FETCHING_RESERVATIONS"}),e.prev=1,e.next=4,i.getSecurityTokenReservations({owner:N});case 4:return t=e.sent,console.log("All reservations",t),e.next=8,Object(w.filter)(t,function(){var e=Object(l.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isLaunched();case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 8:t=e.sent,console.log("Not launched reservations",t),s({type:"FETCHED_RESERVATIONS",reservations:t}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})))).apply(this,arguments)}i&&N&&void 0===x&&function(){e.apply(this,arguments)}()}),[s,x,i,N]),a.a.createElement("div",null,a.a.createElement(b.a,{spinning:d,tip:R,size:"large"},a.a.createElement(f.a,null,a.a.createElement(I,{style:{padding:50,backgroundColor:"#FAFDFF"}},a.a.createElement(g.a,j,a.a.createElement(A,null,a.a.createElement(y.a,{placeholder:"SYMBOL",value:M,onChange:function(e){var t=e.target.value;RegExp("^[a-zA-Z0-9_-]*$").test(t)&&t.length<=10&&P(t.toUpperCase())}})),a.a.createElement(E.a,{type:"primary",onClick:function(){return G.apply(this,arguments)}},"Reserve Symbol")),a.a.createElement(h.a,null),x&&a.a.createElement(g.a,Object.assign({},j,{onSubmit:function(e){return U.apply(this,arguments)}}),a.a.createElement(A,{name:"symbol",label:"Reservation"},V("symbol",{rules:[{required:!0,message:"A token reservation is required"}]})(a.a.createElement(m.a,{placeholder:"Select a reservation"},x.map((function(e){var t=e.symbol;return a.a.createElement(T,{key:t,value:t},t)}))))),a.a.createElement(A,{name:"name",label:"Token Name",help:"This is the name of your token for display purposes. For example: Toro Token"},V("name",{rules:[{required:!0,message:"Token name is required"},{max:64}]})(a.a.createElement(y.a,{placeholder:"Enter Token Name"}))),a.a.createElement(A,{name:"detailsUrl",label:"Token Details",help:"This is the name of your token for display purposes. For example: Toro Token"},V("detailsUrl",{initialValue:""})(a.a.createElement(y.a,{placeholder:"Paste link here"}))),a.a.createElement(A,{name:"treasuryWallet",label:"Treasury Wallet Address",help:"Address of a wallet to be used to store tokens for some operations. Defaults to current user (eg Token Issuer) address"},V("treasuryWallet",{initialValue:N,rules:[{max:64}]})(a.a.createElement(y.a,null))),a.a.createElement(A,{name:"divisible",label:"Divisible",help:"Paste a link to a web page that includes additional information on your token, such as legend."},V("divisible",{initialValue:!1,valuePropName:"checked"})(a.a.createElement(k.a,null))),a.a.createElement(A,null,a.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Create my token")))))))},C=function(e){return function(t,r){var n,a=Object.keys(e).reduce((function(a,s){return a[s]=e[s](t[s],r),n=n||a[s]!==t[s],a}),{});return n?a:t}}({AppReducer:function(e,t){switch(console.log("ACTION",t),t.type){case"INITALIZING":return x({},e,{loading:!0,loadingMessage:"Initializing Polymath SDK",error:void 0});case"INITIALIZED":return x({},e,{loading:!1,loadingMessage:"",error:void 0,sdk:t.sdk,networkId:t.networkId,walletAddress:t.walletAddress});case"FETCHING_RESERVATIONS":return x({},e,{loading:!0,loadingMessage:"Fetching your previously reserved symbols",error:void 0});case"RESERVING_SYMBOL":return x({},e,{loading:!0,loadingMessage:"Reserving symbol"});case"RESERVED_SYMBOL":return x({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"CREATING_TOKEN":return x({},e,{loading:!0,loadingMessage:"Creating token"});case"CREATED_TOKEN":return x({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"FETCHED_RESERVATIONS":return x({},e,{loading:!1,loadingMessage:"",error:void 0,reservations:t.reservations});case"ERROR":return x({},e,{loading:!1,loadingMessage:"",error:t.error});default:throw new Error("Unrecognized action type: ".concat(t.type))}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.d(t,"Store",(function(){return F}));var D={AppReducer:{sdk:void 0,loading:!1,loadingMessage:"",error:void 0,networkId:-1,walletAddress:"",reservations:void 0}},F=Object(n.createContext)();o.a.render(a.a.createElement((function(){var e=Object(n.useReducer)(C,D);return a.a.createElement(F.Provider,{value:e},a.a.createElement(N,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[362,1,2]]]);
//# sourceMappingURL=main.0ff46cc2.chunk.js.map