(window["webpackJsonptoken-creator"]=window["webpackJsonptoken-creator"]||[]).push([[0],{360:function(e,t,r){e.exports=r(990)},365:function(e,t,r){},445:function(e,t){},447:function(e,t){},467:function(e,t){},470:function(e,t){},839:function(e,t){},990:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(13),s=r.n(o),c=(r(365),r(5)),i=r.n(c),l=r(131),u=r(225),d=r(346),p=r(167),f=r(995),v=r(997),g=r(994),b=r(998),E=r(992),y=r(996),m=r(169),h=r(993),O=r(347),w=r(348);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=f.a.Option,x=v.a.Content,S=g.a.Item,j={1:{polymathRegistryAddress:"0xdfabf3e4793cd30affb47ab6fa4cf4eef26bbc27"},42:{polymathRegistryAddress:"0x5b215a7d39ee305ad28da29bf2f0425c6c2a00b3"},15:{polymathRegistryAddress:"0x9FBDa871d559710256a2502A2517b794B482Db40"}};b.a.config({duration:5e3,maxCount:1});var A={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var N=function(){var e=Object(n.useContext)(D),t=Object(u.a)(e,2),r=t[0],o=t[1],s=r.AppReducer,c=s.sdk,d=s.loading,R=s.loadingMessage,k=s.reservations,N=s.walletAddress,T=Object(n.useState)(""),C=Object(u.a)(T,2),M=C[0],F=C[1],P=Object(O.a)();function L(){return(L=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=19;break}return o({type:"RESERVING_SYMBOL"}),e.prev=2,e.next=5,c.reserveSecurityToken({symbol:M});case 5:return t=e.sent,e.next=8,t.run();case 8:r=e.sent,console.log("ret",r),o({type:"RESERVED_SYMBOL"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),o({type:"ERROR",error:e.t0.message}),b.a.error(e.t0.message);case 17:e.next=20;break;case 19:b.a.error("Please provide a symbol");case 20:case"end":return e.stop()}}),e,this,[[2,13]])})))).apply(this,arguments)}return P.getFieldDecorator,P.setFieldsValue,P.resetFields,P.validateFields,Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:"INITALIZING"}),e.prev=1,e.next=4,p.browserUtils.getNetworkId();case 4:return t=e.sent,e.next=7,p.browserUtils.getCurrentAddress();case 7:if(r=e.sent,[-1,1,42].includes(t)){e.next=11;break}return o({type:"ERROR",error:"Please switch to either Main or Kovan network"}),e.abrupt("return");case 11:return n=j[t],a=new p.Polymath,e.next=15,a.connect(n);case 15:o({type:"INITIALIZED",networkId:t,sdk:a,walletAddress:r}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),o({type:"ERROR",error:e.t0.message});case 21:case"end":return e.stop()}}),e,this,[[1,18]])})))).apply(this,arguments)}c||function(){e.apply(this,arguments)}()}),[o,c]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:"FETCHING_RESERVATIONS"}),e.prev=1,e.next=4,c.getSecurityTokenReservations({owner:N});case 4:return t=e.sent,console.log("All reservations",t),e.next=8,Object(w.filter)(t,function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isLaunched();case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 8:t=e.sent,console.log("Not launched reservations",t),o({type:"FETCHED_RESERVATIONS",reservations:t}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),o({type:"ERROR",error:e.t0.message});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})))).apply(this,arguments)}c&&N&&void 0===k&&function(){e.apply(this,arguments)}()}),[o,k,c,N]),a.a.createElement("div",null,a.a.createElement(E.a,{spinning:d,tip:R,size:"large"},a.a.createElement(v.a,null,a.a.createElement(x,{style:{padding:50,backgroundColor:"#FAFDFF"}},a.a.createElement(g.a,A,a.a.createElement(S,null,a.a.createElement(y.a,{placeholder:"SYMBOL",value:M,onChange:function(e){var t=e.target.value;RegExp("^[a-zA-Z0-9_-]*$").test(t)&&t.length<=10&&F(t.toUpperCase())}})),a.a.createElement(m.a,{type:"primary",onClick:function(){return L.apply(this,arguments)}},"Reserve Symbol")),a.a.createElement(h.a,null),k&&a.a.createElement(g.a,A,a.a.createElement(S,{label:"Reservation"},a.a.createElement(f.a,{placeholder:"Select a reservation"},k.map((function(e){var t=e.symbol;return a.a.createElement(I,{key:t,value:t},t)})))),a.a.createElement(S,{label:"Token Name"},a.a.createElement(y.a,{placeholder:"Enter Token Name"})),a.a.createElement(S,null))))))},T=function(e){return function(t,r){var n,a=Object.keys(e).reduce((function(a,o){return a[o]=e[o](t[o],r),n=n||a[o]!==t[o],a}),{});return n?a:t}}({AppReducer:function(e,t){switch(console.log("ACTION",t),t.type){case"INITALIZING":return k({},e,{loading:!0,loadingMessage:"Initializing Polymath SDK",error:void 0});case"INITIALIZED":return k({},e,{loading:!1,loadingMessage:"",error:void 0,sdk:t.sdk,networkId:t.networkId,walletAddress:t.walletAddress});case"FETCHING_RESERVATIONS":return k({},e,{loading:!0,loadingMessage:"Fetching your previously reserved symbols",error:void 0});case"RESERVING_SYMBOL":return k({},e,{loading:!0,loadingMessage:"Reserving symbol"});case"RESERVED_SYMBOL":return k({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"FETCHED_RESERVATIONS":return k({},e,{loading:!1,loadingMessage:"",error:void 0,reservations:t.reservations});case"ERROR":return k({},e,{loading:!1,loadingMessage:"",error:t.error});default:throw new Error("Unrecognized action type: ".concat(t.type))}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.d(t,"Store",(function(){return D}));var C={AppReducer:{sdk:void 0,loading:!1,loadingMessage:"",error:void 0,networkId:-1,walletAddress:"",reservations:void 0}},D=Object(n.createContext)();s.a.render(a.a.createElement((function(){var e=Object(n.useReducer)(T,C);return a.a.createElement(D.Provider,{value:e},a.a.createElement(N,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[360,1,2]]]);
//# sourceMappingURL=main.2c0c77f6.chunk.js.map